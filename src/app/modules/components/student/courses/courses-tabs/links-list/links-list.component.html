<div class="course-card">
  <div class="card-header">
    <div class="header-left">
      <h3 class="course-title">{{ course.title }}</h3>
      <app-tier-icon [tier]="course.requiredTier"></app-tier-icon>
    </div>
    <span class="course-subject">{{ course.subject }}</span>
  </div>
  <div class="card-body">
    <p class="course-description">{{ course.description }}</p>

    <div *ngIf="course.links && course.links.length > 0" class="course-links">
      <h4>Burimet e ndërlidhura:</h4>
      <ol>
        <li *ngFor="let link of course.links" class="link-item">
          <div class="link-content">
            <a *ngIf="hasQuizzes(link)" 
               (click)="goToQuizList(link.id)" 
               target="_blank" 
               rel="noopener noreferrer" 
               class="link-title">
              {{ link.title }}
              <span class="quiz-count">({{ link.quizzesCount }})</span>

            </a>
            <span *ngIf="!hasQuizzes(link)" 
                  class="link-title disabled-link">
              {{ link.title }}
              <span class="quiz-count">({{ link.quizzesCount }})</span>
            </span>
            <div *ngIf="link.status" class="status-badge" [class]="getStatusClass(link.status)">
              <mat-icon class="status-icon">{{ getStatusIcon(link.status) }}</mat-icon>
              <span class="status-text">{{ getStatusText(link.status) }}</span>
            </div>
          </div>
        </li>
      </ol>
    </div>
  </div>
  <div class="card-footer">
    <span class="course-class-type">{{ course.classType }}</span>
    <span [class]="difficultyColorClass">
      Vështirësi: {{ course.difficulty }}
    </span>
  </div>
</div>

