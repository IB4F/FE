<div class="container">
  <img src="assets/svgImages/logo.svg" alt="brainGain-logo" routerLink="/">
  <div class="change-password-container">
    <div class="change-password-body">
      <div class="change-password-form">
        <h2>Ndrysho Fjalëkalimin</h2>
        <p class="info-text">Për arsye sigurie, ju duhet të ndryshoni fjalëkalimin tuaj për herën e parë. Shkruani fjalëkalimin aktual (të përkohshëm) dhe zgjidhni një të ri.</p>
        
        <form [formGroup]="changePasswordFormGroup">
          <mat-form-field appearance="outline" style="width: 100%;">
            <mat-label>Fjalëkalimi aktual (i përkohshëm)</mat-label>
            <input matInput placeholder="Fjalëkalimi aktual" formControlName="currentPassword"
                   [type]="hideCurrentPass ? 'password' : 'text'" required>
            <button mat-icon-button matSuffix (click)="hideCurrentPass = !hideCurrentPass"
                    [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideCurrentPass">
              <mat-icon>{{hideCurrentPass ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="changePasswordFormGroup.get('currentPassword')?.hasError('required')">
              Fushë e detyrueshme
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline" style="width: 100%;">
            <mat-label>Fjalëkalim i ri</mat-label>
            <input matInput placeholder="Fjalëkalim i ri" formControlName="newPassword"
                   [type]="hidePass ? 'password' : 'text'" required>
            <mat-icon matSuffix
                      matTooltip="1. Të paktën 8 karaktere 2. Të paktën një karakter special 3. Të paktën një shkronjë të madhe 4. Të paktën një numër">
              info
            </mat-icon>
            <button mat-icon-button matSuffix (click)="hidePass = !hidePass"
                    [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePass">
              <mat-icon>{{hidePass ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="changePasswordFormGroup.get('newPassword')?.hasError('required')">
              Fushë e detyrueshme
            </mat-error>
            <mat-error *ngIf="changePasswordFormGroup.get('newPassword')?.hasError('invalidPassword')">
              Fjalëkalimi duhet të ketë të paktën 8 karaktere, një karakter special, një shkronjë të madhe dhe një numër
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" style="width: 100%;">
            <mat-label>Konfirmo fjalëkalimin</mat-label>
            <input matInput placeholder="Konfirmo fjalëkalimin" formControlName="confirmPassword"
                   [type]="hidePass2 ? 'password' : 'text'" required>
            <button mat-icon-button matSuffix (click)="hidePass2 = !hidePass2"
                    [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePass2">
              <mat-icon>{{hidePass2 ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="changePasswordFormGroup.get('confirmPassword')?.hasError('required')">
              Fushë e detyrueshme
            </mat-error>
            <mat-error *ngIf="changePasswordFormGroup.hasError('passwordMismatch')">
              Fjalëkalimet nuk përputhen
            </mat-error>
          </mat-form-field>

          <div class="btn-container">
            <button mat-button (click)="onChangePassword()" [disabled]="!isChangePasswordFormValid()">
              Ndrysho Fjalëkalimin
            </button>
          </div>
        </form>
      </div>
    </div>
    <div class="right">
      <div class="info-section">
        <h2>Siguria e llogarisë suaj</h2>
        <p>Për të siguruar sigurinë e llogarisë suaj, ne kërkojmë që të ndryshoni fjalëkalimin e përkohshëm që keni marrë.</p>
        <ul>
          <li>Zgjidhni një fjalëkalim të fortë</li>
          <li>Përdorni të paktën 8 karaktere</li>
          <li>Përfshini numra dhe karaktere speciale</li>
          <li>Mos e ndani fjalëkalimin me askënd</li>
        </ul>
      </div>
    </div>
  </div>
</div>
